<app-header></app-header>

<table class="players-table">
  <thead>
    <tr>
      <th>#</th>
      <th>First name</th>
      <th>Last name</th>
      <th>Rating</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    @for (player of this.players; let i = $index; track player) {
      <tr>
        <td>{{ i+1 }}</td>
        <td>{{ player.firstName }}</td>
        <td>{{ player.lastName }}</td>
        <td>{{ player.rating }}</td>
        <td>
          @if (editIndex === i) {
            <button class="action-btn save-btn" title="Save" (click)="clearEditIndex()">
              Save
            </button>
            <button class="action-btn cancel-btn" title="Cancel" (click)="clearEditIndex()">
              Cancel
            </button>
          } @else {
            <button class="action-btn edit-btn" title="Edit" (click)="setEditIndex(i)">
              Edit
            </button>
            <button class="action-btn delete-btn" title="Delete">
              Delete
            </button>
          }
        </td>
      </tr>
    }
  </tbody>

</table>

<div class="add-player-form">
  <h2 class="add-title">Add new player</h2>
  <div class="add-field">
    <label for="add-first-name">First name</label>
    <input id="add-first-name" type="text" class="add-input" />
  </div>
  <div class="add-field">
    <label for="add-last-name">Last name</label>
    <input id="add-last-name" type="text" class="add-input" />
  </div>
  <div class="add-field">
    <label for="add-rating">Rating</label>
    <input id="add-rating" type="number" min="1" max="10" step="0.1" class="add-input" />
  </div>
  <button class="action-btn save-btn" title="Add">
    Add
  </button>
</div>
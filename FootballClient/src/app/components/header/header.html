<nav class="header-nav">
  <div class="header-left">
    <div class="header-profile" (click)="navigateToAccount()" title="Account">
      <span class="material-icons profile-icon">person</span>
      <span class="profile-username">{{ username }}</span>
      @if (isDelegating() || isDelegate()) {
      <div class="delegation-indicator" [title]="getDelegationText()">
        <span class="delegation-icon">
          {{ isDelegating() ? "‚ö†Ô∏è" : "üëë" }}
        </span>
      </div>
      }
    </div>
  </div>
  <div class="header-center">
    <div
      class="logo-container"
      (click)="navigateToDashboard()"
      style="cursor: pointer"
      title="Go to Dashboard"
    >
      <img src="assets/logo_nobg.png" alt="logo-image" class="logo" />
      <h1 class="app-title">Football Match Maker</h1>
    </div>
  </div>
  <div class="header-right">
    <button
      class="hamburger"
      (click)="toggleMenu()"
      [class.active]="isMenuOpen"
      aria-label="Toggle menu"
    >
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <div class="menu" [class.open]="isMenuOpen">
    <ul>
      <!-- Admin Menu Items -->
      <li *ngIf="isAdmin()">
        <button (click)="navigateToDashboard()">Home</button>
      </li>
      <li *ngIf="isAdmin()">
        <button (click)="navigateTo('/manage-players')">Players</button>
      </li>

      <li *ngIf="isAdmin()">
        <button (click)="navigateTo('/manage-accounts')">Manage Users</button>
      </li>
      <li *ngIf="isAdmin()">
        <button (click)="navigateTo('/rating-evolution')">
          Rating Evolution
        </button>
      </li>
      <li *ngIf="isAdmin()">
        <button (click)="navigateTo('/user-impersonation')">
          User Impersonation
        </button>
      </li>
      <li *ngIf="isAdmin()">
        <button (click)="navigateTo('/admin-import')">
          Firebase Import
        </button>
      </li>

      <!-- Organizer Menu Items (non-admin organizers) -->
      <li *ngIf="isOrganizer() && !isAdmin()">
        <button (click)="navigateToDashboard()">Home</button>
      </li>
      <li *ngIf="isOrganizer() && !isAdmin()">
        <button (click)="navigateTo('/manage-players')">Players</button>
      </li>
      <li *ngIf="isOrganizer() && !isAdmin()">
        <button (click)="navigateTo('/rating-evolution')">
          Rating Evolution
        </button>
      </li>
      <li *ngIf="isOrganizer() || isAdmin()">
        <button (click)="navigateTo('/player-dashboard-availableMatches')">
          Public Matches
        </button>
      </li>

      <!-- Player Menu Items -->
      <li *ngIf="isPlayer()">
        <button (click)="navigateToDashboard()">My Matches</button>
      </li>
      <li *ngIf="isPlayer()">
        <button (click)="navigateTo('/player-dashboard-availableMatches')">
          Public Matches
        </button>
      </li>
      <li *ngIf="isPlayer()">
        <button (click)="navigateTo('/past-matches')">Past Matches</button>
      </li>
      <li *ngIf="isPlayer()">
        <button (click)="navigateTo('/rating-evolution')">
          Rating Evolution
        </button>
      </li>

      <!-- Admin Menu Items (continued) -->
      <li *ngIf="isAdmin()">
        <button (click)="navigateTo('/matches-history')">
          Old created matches
        </button>
      </li>
      <li *ngIf="isAdmin()">
        <button (click)="navigateTo('/past-matches')">Past matches</button>
      </li>

      <!-- Organizer Menu Items (non-admin organizers) -->
      <li *ngIf="isOrganizer() && !isAdmin()">
        <button (click)="navigateTo('/matches-history')">
          Old created matches
        </button>
      </li>
      <li *ngIf="isOrganizer() && !isAdmin()">
        <button (click)="navigateTo('/past-matches')">Past matches</button>
      </li>

      <li>
        <button (click)="logout()" class="logout-btn">Log Out</button>
      </li>
    </ul>
  </div>
</nav>
